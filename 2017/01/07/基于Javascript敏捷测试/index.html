<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description"><meta name="keywords" content="Hexo, Gruntjs, Nodejs, Reactjs, Vuejs"><title>基于Javascript敏捷测试 - Siyu</title><link rel="stylesheet" href="/css/main_style.min.css"><link rel="icon" href="/favicon.ico"></head><body><div class="post-header"><img class="background" src="/default_images/post_background.jpg"><div class="post-title"><h1 class="title">基于Javascript敏捷测试</h1><ul class="meta"><li><i class="icon icon-author"></i>Siyu Yan</li><li><i class="icon icon-clock"></i>2 Minutes</li><li><i class="icon icon-calendar"></i>January 7, 2017</li></ul></div></div><div class="article-content"><p>本文将从测试金字塔的各个层面分层介绍敏捷团队在项目交付中如何选择适合的测试框架快速、低成本搭建自动化测试框架的过程。那么接下来我们借助Javascript这样一门简单、轻量级的越来越热门的动态语言来介绍。</p>
<p>随着前端技术发展越来越快，基于JavaScript的前端Web Application越来越多，同时随着开发人员对Nodejs的应用也在不断增加，团队中可以使用JavaScript完成对于一个Web Application的前后端全栈开发。与此同时我们也可以使用JavaScript完成绝大部分的自动化测试，从而可以统一开发团队的技术栈，复用团队的开发人员来开发和维护自动化测试，降低自动化测试的开发和维护成本，并实现JavaScript敏捷自动化测试。</p>
<p>为了适应这样的开发环境，基于JavaScript的测试框架和工具也随之高速发展，比如出现了Jasmine，Protractor，Mocha，Selenium，FrisbyJs，Supertest等一批优秀和高效的测试框架和工具来帮我们完成金字塔各层不同类型要求的自动化测试。</p>
<h3 id="问题金字塔"><a href="#问题金字塔" class="headerlink" title="问题金字塔"></a>问题金字塔</h3><p>在实际的项目交付开发中，对于开发和测试人员来说我们会有很多痛点想要解决，比如：</p>
<p><img src="基于Javascript敏捷测试/问题金字塔.png" alt="问题金字塔"></p>
<h3 id="测试金字塔"><a href="#测试金字塔" class="headerlink" title="测试金字塔"></a>测试金字塔</h3><p>那么如何在自动化测试中低成本的解决这些问题呢？是否有哪些好的框架和工具可以选择？接下来我们就分层来介绍。</p>
<p><img src="基于Javascript敏捷测试/测试金字塔.png" alt="测试金字塔"></p>
<h3 id="Javascript单元测试与TDD"><a href="#Javascript单元测试与TDD" class="headerlink" title="Javascript单元测试与TDD"></a>Javascript单元测试与TDD</h3><h4 id="TDD的概念和流程"><a href="#TDD的概念和流程" class="headerlink" title="TDD的概念和流程"></a>TDD的概念和流程</h4><p>TDD：测试驱动开发(Test Driven Development)</p>
<p>对TDD有所了解的人都知道，其实TDD无非是测试优于开发代码先行的思路。但这里，我们更强调的是在使用TDD的思想来帮助我们开发的时候重构的思想，也就是TDD = TFD（Test First Development） + Refactoring</p>
<p><img src="基于Javascript敏捷测试/TDD.png" alt="TDD"></p>
<p>整个使用TDD开发的流程（对应上图）概括起来是：</p>
<ul>
<li>加入一个新的测试</li>
<li>运行下新加的测试，看到它失败</li>
<li>对开发代码做很小的修改，目的就是让新加的测试通过</li>
<li>运行所有的测试（test case），然后看到所有测试都通过</li>
<li>移掉重复的代码，对代码进行重构 </li>
</ul>
<h4 id="单元测试的实践方式与优势"><a href="#单元测试的实践方式与优势" class="headerlink" title="单元测试的实践方式与优势"></a>单元测试的实践方式与优势</h4><p>当然进行的过程不会那么顺利，尤其是在一些业务场景复杂的时候，我们很难保证划分的单元（Unit）是足够小。虽然TDD很美好，但是很多团队做起TDD来对整体的开发效率、开发质量并没有显著提高，这时我们就需要借鉴一些好的实践来帮助我们更好地完成TDD提高开发效率。比如以下几点：</p>
<ul>
<li>测试代码时，只考虑测试，不考虑内部实现</li>
<li>数据尽量模拟现实，越靠近现实越好</li>
<li>充分考虑数据的边界条件</li>
<li>对重点、复杂、核心代码重点测试</li>
<li>利用AOP(beforeEach、afterEach),减少测试代码数量，避免无用功能</li>
<li>测试、功能开发相结合，有利于设计和代码重构</li>
</ul>
<p>有了以上较好的TDD实践,才能帮助我们更好的体现其在敏捷团队整个交付过程中的优势。如：</p>
<ul>
<li>类似文档，更易于理解，特别是复杂场景</li>
<li>用于Validate自己所做的修改</li>
<li>在不断的Refactor中提升代码的质量</li>
<li>在写测试的过程中理解业务逻辑</li>
<li>小步迭代，集中注意解决一个问题</li>
</ul>
<h4 id="单元测试框架"><a href="#单元测试框架" class="headerlink" title="单元测试框架"></a>单元测试框架</h4><p>那么接下来就给大家介绍一些开源、简单的单元测试的框架<br><img src="基于Javascript敏捷测试/单元测试框架.png" alt="单元测试框架"><br>那具体在项目中怎样用Javascript来实现我们的单元测试呢？我们可以参考如下代码结构：</p>
<p><img src="基于Javascript敏捷测试/单元测试代码结构.png" alt="单元测试代码结构"></p>
</div><div class="article-meta"></div><div class="article-comment"><div class="ds-thread" id="ds-thread" data-thread-key="cixnceomm0006synbbpc9u0j1" data-title="基于Javascript敏捷测试" data-url="http://siyuyan.github.io/2017/01/07/基于Javascript敏捷测试/" site-name="ueibo"></div><script>var siteName = document.getElementById('ds-thread').getAttribute('site-name');
var duoshuoQuery = {short_name: siteName};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();</script></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2016/08/27/DDOS/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="http://github.com/BoizZ" title="GitHub" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="http://weibo.com/heqibang" title="Weibo" target="_blank"><i class="icon icon-weibo"></i></a></li><li><a href="http://www.segmentfault.com/u/bon" title="SegmentFault" target="_blank"><i class="icon icon-segmentfault"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2017 Siyu<br><small>POWER BY <a href="https://hexo.io" target="_blank">HEXO</a></small><small>, THEME BY <a href="https://github.com/BoizZ/hexo-theme-laughing" target="_blank">LAUGHING</a></small></p></div></div></body></html>